/*
 Copyright (c) 2017 NAVER Corp.
 @egjs/component project is licensed under the MIT license

 @egjs/component JavaScript library
 http://naver.github.io/egjs/component

 @version 2.1.0
*/
(function(k,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define([],d):"object"===typeof exports?exports.Modal=d():(k.fafaz=k.fafaz||{},k.fafaz.Modal=d())})("undefined"!==typeof self?self:this,function(){return function(k){function d(g){if(h[g])return h[g].exports;var b=h[g]={i:g,l:!1,exports:{}};k[g].call(b.exports,b,b.exports,d);b.l=!0;return b.exports}var h={};d.m=k;d.c=h;d.d=function(g,b,h){d.o(g,b)||Object.defineProperty(g,b,
{configurable:!1,enumerable:!0,get:h})};d.n=function(g){var b=g&&g.__esModule?function(){return g["default"]}:function(){return g};d.d(b,"a",b);return b};d.o=function(d,b){return Object.prototype.hasOwnProperty.call(d,b)};d.p="";return d(d.s=0)}([function(k,d,h){function g(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function b(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var n=Object.assign||function(a){for(var c=1;c<arguments.length;c++){var l=arguments[c],e;for(e in l)Object.prototype.hasOwnProperty.call(l,e)&&(a[e]=l[e])}return a},m=function(){function a(a,l){for(var c=0;c<l.length;c++){var e=l[c];e.enumerable=e.enumerable||!1;e.configurable=
!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,l,e){l&&a(c.prototype,l);e&&a(c,e);return c}}(),f=h(1);f=f&&f.__esModule?f:{"default":f};var a=h(2);h(5);"function"!==typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);h=function(e){function c(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var b=g(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));b._version="1.2";if(!l)throw"trigger is not exist";b._config=n({border:void 0,overlayColor:void 0,fullScreen:!1,cloneNode:!0,useHeader:!0},e);(0,a.addEventDelegation)(l,"click",function(a){var c=a.delegateTarget;a={id:c.getAttribute("data-modal-id"),title:c.getAttribute("data-modal-title"),width:c.getAttribute("data-modal-width")?c.getAttribute("data-modal-width"):500};var e=b._config.cloneNode?"wrapper_"+a.id+"_temp":"wrapper_"+a.id;
document.getElementById(e)?b.open(e,c):b.generate(a,function(){b.open(e,c)})});return b}b(c,e);m(c,[{key:"generate",value:function(c,e){var l=this,b=document.createElement("div"),f=document.getElementById(c.id);this._config.cloneNode?(f=f.cloneNode(!0),f.id=c.id+"_temp",b.id="wrapper_"+c.id+"_temp"):b.id="wrapper_"+c.id;b.classList.add("modal-overlay");b.classList.add("modal-close");f.classList.add("modal-content");this._config.fullScreen||(f.style.width=c.width+"px");this._config.overlayColor&&(b.style.backgroundColor=
this._config.overlayColor);void 0!==this._config.border&&(f.style.border=this._config.border);f.innerHTML=(this._config.useHeader?'<section class="modal-header"><h1 class="modal-header__title">'+c.title+'</h1><button class="modal-header__closeBtn modal-close"><svg style="width:1.4em; height:1.4em; vertical-align:-0.4em;" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg></button></section>':"")+
'<div class="modal-content__inner">'+f.innerHTML+"</div>";b.appendChild(f);document.body.appendChild(b);document.querySelectorAll(".modal-close").forEach(function(c){return(0,a.addEvent)(c,"click",function(){return l.close(b.id)})});(0,a.addEvent)(f,"click",function(a){return a.stopPropagation()});e();(0,a.addEvent)(window,"resize",function(){l.positioning(f)});this.trigger("afterGenerate",{container:f})}},{key:"open",value:function(a,c){a=document.getElementById(a);a.classList.add("is-active");document.documentElement.style.overflowY=
"hidden";a=a.querySelector(".modal-content");this.trigger("afterOpen",{container:a,trigger:c});this.positioning(a)}},{key:"close",value:function(a){a=document.getElementById(a);a.classList.remove("is-active");this._config.cloneNode&&a.parentNode.removeChild(a);document.documentElement.style.overflowY="";this.trigger("afterClose",{container:a.querySelector(".modal-content")})}},{key:"positioning",value:function(a){if(this._config.fullScreen)a.style.cssText="height:100%; width: 100%; max-width:100%; top:0; bottom:0;";
else{var c=window.innerHeight,e=Math.round(a.offsetHeight);e=0===e%2?e:e+1;c<=e?(a.style.top="0",a.style.marginTop="2.5%",a.style.marginBottom="2.5%",a.parentNode.style.overflowY="scroll"):(a.style.top="50%",a.style.marginTop=-e/2+"px",a.style.marginBottom="auto",a.parentNode.style.overflowY="hidden")}}}]);return c}(f["default"]);d["default"]=h;k.exports=d["default"]},function(k,d,h){(function(d,b){k.exports=b()})(this,function(){return function(d){function b(m){if(g[m])return g[m].exports;var f=
g[m]={i:m,l:!1,exports:{}};d[m].call(f.exports,f,f.exports,b);f.l=!0;return f.exports}var g={};b.m=d;b.c=g;b.d=function(d,f,a){b.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:a})};b.n=function(d){var f=d&&d.__esModule?function(){return d["default"]}:function(){return d};b.d(f,"a",f);return f};b.o=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)};b.p="";return b(b.s=0)}([function(d,b,h){b=(b=h(1))&&b.__esModule?b:{"default":b};b["default"].VERSION="2.1.0";d.exports=
b["default"]},function(d,b,h){b.__esModule=!0;var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};h=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._eventHandler={};this.options={}}b.prototype.trigger=function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=this._eventHandler[a]||
[];if(!(0<c.length))return!0;c=c.concat();e.eventType=a;var b=!1,d=[e],f=0;e.stop=function(){b=!0};e.currentTarget=this;e=arguments.length;f=Array(2<e?e-2:0);for(var g=2;g<e;g++)f[g-2]=arguments[g];1<=f.length&&(d=d.concat(f));for(f=0;c[f];f++)c[f].apply(this,d);return!b};b.prototype.once=function(a,b){if("object"===("undefined"===typeof a?"undefined":g(a))&&"undefined"===typeof b){var c=void 0;for(c in a)this.once(c,a[c])}else if("string"===typeof a&&"function"===typeof b){var e=this;this.on(a,function p(){for(var c=
arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];b.apply(e,d);e.off(a,p)})}return this};b.prototype.hasOn=function(a){return!!this._eventHandler[a]};b.prototype.on=function(a,b){if("object"===("undefined"===typeof a?"undefined":g(a))&&"undefined"===typeof b)for(b in b=void 0,a)this.on(b,a[b]);else if("string"===typeof a&&"function"===typeof b){var c=this._eventHandler[a];"undefined"===typeof c&&(this._eventHandler[a]=[],c=this._eventHandler[a]);c.push(b)}return this};b.prototype.off=function(a,
b){if("undefined"===typeof a)return this._eventHandler={},this;if("undefined"===typeof b){if("string"===typeof a)this._eventHandler[a]=void 0;else for(b in b=void 0,a)this.off(b,a[b]);return this}if(a=this._eventHandler[a]){var c,e;for(c=0;void 0!==(e=a[c]);c++)if(e===b){a.splice(c,1);break}}return this};return b}();b["default"]=h;d.exports=b["default"]}])})},function(k,d,h){Object.defineProperty(d,"__esModule",{value:!0});d.addEventDelegation=void 0;var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};d.nodeToArray=function(a){var b=[];if(a)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b};d.addEvent=function(a,b,c,d){if(m){var e=d||!1;"object"===("undefined"===typeof d?"undefined":g(d))&&(e=f?d:!1);a.addEventListener(b,c,e)}else a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c};d.removeEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,
c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null};d.hasClass=function(a,b){return a.classList?a.classList.contains(b):(new RegExp("(^| )"+b+"( |$)","gi")).test(a.className)};var b=(k=h(3))&&k.__esModule?k:{"default":k},n=("undefined"!==typeof window&&Math===Math?window:"undefined"!==typeof self&&(self.Math===Math?self:Function("return this")())).document,m=!!("addEventListener"in n),f=function(){var a=!1;try{m&&Object.defineProperty&&n.addEventListener("test",null,Object.defineProperty({},
"passive",{get:function(){a=!0}}))}catch(e){}return a}();d.addEventDelegation=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"click",c=arguments[2];return(0,b["default"])(a,d,function(a){c(a)},!1)}},function(k,d,h){function g(d,f,a,e,c){var g=b.apply(this,arguments);d.addEventListener(a,g,c);return{destroy:function(){d.removeEventListener(a,g,c)}}}function b(b,d,a,e){return function(a){a.delegateTarget=n(a.target,
d);a.delegateTarget&&e.call(b,a)}}var n=h(4);k.exports=function(b,d,a,e,c){if("function"===typeof b.addEventListener)return g.apply(null,arguments);if("function"===typeof a)return g.bind(null,document).apply(null,arguments);"string"===typeof b&&(b=document.querySelectorAll(b));return Array.prototype.map.call(b,function(b){return g(b,d,a,e,c)})}},function(k,d){"undefined"===typeof Element||Element.prototype.matches||(d=Element.prototype,d.matches=d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||
d.oMatchesSelector||d.webkitMatchesSelector);k.exports=function(d,g){for(;d&&9!==d.nodeType;){if("function"===typeof d.matches&&d.matches(g))return d;d=d.parentNode}}},function(k,d){}])});
