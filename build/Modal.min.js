/*
 Copyright (c) 2017 NAVER Corp.
 @egjs/component project is licensed under the MIT license

 @egjs/component JavaScript library
 http://naver.github.io/egjs/component

 @version 2.1.0
*/
(function(g,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define([],c):"object"===typeof exports?exports.Modal=c():(g.fafaz=g.fafaz||{},g.fafaz.Modal=c())})(this,function(){return function(g){function c(f){if(k[f])return k[f].exports;var b=k[f]={i:f,l:!1,exports:{}};g[f].call(b.exports,b,b.exports,c);b.l=!0;return b.exports}var k={};c.m=g;c.c=k;c.d=function(f,b,m){c.o(f,b)||Object.defineProperty(f,b,{configurable:!1,enumerable:!0,
get:m})};c.n=function(f){var b=f&&f.__esModule?function(){return f["default"]}:function(){return f};c.d(b,"a",b);return b};c.o=function(c,b){return Object.prototype.hasOwnProperty.call(c,b)};c.p="";return c(c.s=0)}([function(g,c,k){function f(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?a:d}function b(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}Object.defineProperty(c,"__esModule",{value:!0});var m=Object.assign||function(a){for(var d=1;d<arguments.length;d++){var e=arguments[d],b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&(a[b]=e[b])}return a},l=function(){function a(a,e){for(var d=0;d<e.length;d++){var b=e[d];b.enumerable=b.enumerable||!1;b.configurable=
!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(e,b,h){b&&a(e.prototype,b);h&&a(e,h);return e}}(),a=k(1);a=a&&a.__esModule?a:{"default":a};var e=k(2);k(3);k=function(a){function d(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var h=f(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));if(!a)throw"trigger is not exist";
h._version="1.1";var c={theme:{useBorder:!0,borderColor:"#1e1e1e",overlayColor:void 0},cloneNode:!0,fixedHeight:!1,useHeader:!0,usePreloader:!1};h._config=m({},c,b,{theme:m({},c.theme,b.theme)});h._triggers=(0,e.nodeToArray)(document.querySelectorAll(a));h._triggers.map(function(a,b){(0,e.addEvent)(a,"click",function(){var e={id:a.getAttribute("data-modal-id"),title:a.getAttribute("data-modal-title"),width:a.getAttribute("data-modal-width")?a.getAttribute("data-modal-width"):500,height:a.getAttribute("data-modal-height")?
a.getAttribute("data-modal-height"):null},b=h._config.cloneNode?"wrapper_"+e.id+"_temp":"wrapper_"+e.id;document.getElementById(b)?h.open(b):h.generate(e,function(){return h.open(b)})})});return h}b(d,a);l(d,[{key:"generate",value:function(a,b){var d=this,h=document.createElement("div"),c=document.getElementById(a.id);this._config.cloneNode?(c=c.cloneNode(!0),c.id=a.id+"_temp",h.id="wrapper_"+a.id+"_temp"):h.id="wrapper_"+a.id;h.classList.add("modal-overlay","modal-close");c.classList.add("modal-content");
c.style.width=a.width+"px";this._config.fixedHeight&&a.height&&(c.style.height=a.height+"px");this._config.theme.overlayColor&&(h.style.backgroundColor=this._config.theme.overlayColor);this._config.theme.useBorder||(c.style.border="0",c.style.borderColor=this._config.theme.borderColor);c.innerHTML=(this._config.useHeader?'<section class="modal-header"><h1 class="modal-header__title">'+a.title+'</h1><button class="modal-header__closeBtn modal-close"><svg width=\'1em\' height=\'1em\' fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg></button></section>':
"")+'<div class="modal-content__inner">'+c.innerHTML+"</div>";h.appendChild(c);document.body.appendChild(h);this._config.fixedHeight&&a.height&&(c.querySelector(".modal-content__inner").style.height="calc(100% - 40px)",this.positioning(c,a.height),(0,e.addEvent)(window,"resize",function(){return d.positioning(c,a.height)},!0),h.style.overflowY="hidden");(0,e.nodeToArray)(document.querySelectorAll(".modal-close")).map(function(a){return(0,e.addEvent)(a,"click",function(){return d.close(h.id)})});(0,
e.addEvent)(c,"click",function(a){return a.stopPropagation()});this.trigger("afterGenerate",{container:c});b()}},{key:"open",value:function(a){document.getElementById(a).classList.add("is-active");document.documentElement.style.overflowY="hidden"}},{key:"close",value:function(a){a=document.getElementById(a);a.classList.remove("is-active");this._config.cloneNode&&a.parentNode.removeChild(a);document.documentElement.style.overflowY="initial"}},{key:"positioning",value:function(a,b){b=window.innerHeight-
b;a.style.maxHeight="90vh";a.style.marginTop=0<b?b/2+"px":"5vh"}}]);return d}(a["default"]);c["default"]=k;g.exports=c["default"]},function(g,c,k){(function(c,b){g.exports=b()})(this,function(){return function(c){function b(l){if(f[l])return f[l].exports;var a=f[l]={i:l,l:!1,exports:{}};c[l].call(a.exports,a,a.exports,b);a.l=!0;return a.exports}var f={};b.m=c;b.c=f;b.d=function(c,a,e){b.o(c,a)||Object.defineProperty(c,a,{configurable:!1,enumerable:!0,get:e})};b.n=function(c){var a=c&&c.__esModule?
function(){return c["default"]}:function(){return c};b.d(a,"a",a);return a};b.o=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};b.p="";return b(b.s=0)}([function(c,b,g){b=(b=g(1))&&b.__esModule?b:{"default":b};b["default"].VERSION="2.1.0";c.exports=b["default"]},function(c,b,g){b.__esModule=!0;var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};g=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._eventHandler={};this.options={}}a.prototype.trigger=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=this._eventHandler[a]||[];if(!(0<e.length))return!0;e=e.concat();b.eventType=a;var c=!1,f=[b],g=0;b.stop=function(){c=!0};b.currentTarget=this;b=arguments.length;g=Array(2<b?b-2:0);for(var k=2;k<b;k++)g[k-2]=arguments[k];1<=g.length&&(f=f.concat(g));
for(g=0;e[g];g++)e[g].apply(this,f);return!c};a.prototype.once=function(a,b){if("object"===("undefined"===typeof a?"undefined":f(a))&&"undefined"===typeof b){var c=void 0;for(c in a)this.once(c,a[c])}else if("string"===typeof a&&"function"===typeof b){var e=this;this.on(a,function n(){for(var c=arguments.length,h=Array(c),d=0;d<c;d++)h[d]=arguments[d];b.apply(e,h);e.off(a,n)})}return this};a.prototype.hasOn=function(a){return!!this._eventHandler[a]};a.prototype.on=function(a,b){if("object"===("undefined"===
typeof a?"undefined":f(a))&&"undefined"===typeof b)for(b in b=void 0,a)this.on(b,a[b]);else if("string"===typeof a&&"function"===typeof b){var c=this._eventHandler[a];"undefined"===typeof c&&(this._eventHandler[a]=[],c=this._eventHandler[a]);c.push(b)}return this};a.prototype.off=function(a,b){if("undefined"===typeof a)return this._eventHandler={},this;if("undefined"===typeof b){if("string"===typeof a)this._eventHandler[a]=void 0;else for(b in b=void 0,a)this.off(b,a[b]);return this}if(a=this._eventHandler[a]){var c,
e;for(c=0;void 0!==(e=a[c]);c++)if(e===b){a.splice(c,1);break}}return this};return a}();b["default"]=g;c.exports=b["default"]}])})},function(g,c,k){Object.defineProperty(c,"__esModule",{value:!0});var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.nodeToArray=function(a){var b=[];if(a)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b};
c.addEvent=function(a,b,c,d){if(m){var e=d||!1;"object"===("undefined"===typeof d?"undefined":f(d))&&(e=l?d:!1);a.addEventListener(b,c,e)}else a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c};c.removeEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null};c.hasClass=function(a,b){return a.classList?a.classList.contains(b):(new RegExp("(^| )"+b+"( |$)","gi")).test(a.className)};var b=("undefined"!==typeof window&&Math===Math?
window:"undefined"!==typeof self&&(self.Math===Math?self:Function("return this")())).document,m=!!("addEventListener"in b),l=function(){var a=!1;try{m&&Object.defineProperty&&b.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){a=!0}}))}catch(e){}return a}()},function(g,c){}])});
