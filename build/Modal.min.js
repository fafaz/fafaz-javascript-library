(function(k,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports.Modal=e():(k.fafaz=k.fafaz||{},k.fafaz.Modal=e())})("undefined"!==typeof self?self:this,function(){return function(k){function e(g){if(h[g])return h[g].exports;var c=h[g]={i:g,l:!1,exports:{}};k[g].call(c.exports,c,c.exports,e);c.l=!0;return c.exports}var h={};e.m=k;e.c=h;e.d=function(g,c,h){e.o(g,c)||Object.defineProperty(g,c,
{configurable:!1,enumerable:!0,get:h})};e.n=function(g){var c=g&&g.__esModule?function(){return g["default"]}:function(){return g};e.d(c,"a",c);return c};e.o=function(e,c){return Object.prototype.hasOwnProperty.call(e,c)};e.p="";return e(e.s=0)}([function(k,e,h){function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var l=arguments[b],d;for(d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])}return a},m=function(){function a(a,l){for(var b=0;b<l.length;b++){var d=l[b];d.enumerable=d.enumerable||!1;d.configurable=
!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),f=h(1);f=f&&f.__esModule?f:{"default":f};var a=h(2);h(5);"function"!==typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);h=function(d){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var f=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));f._version="1.3";f._config=n({border:void 0,overlayColor:void 0,fullScreen:!1,cloneNode:!1,useHeader:!1},c);if(!d||"string"!==typeof d)throw"trigger must be a css selector in string type";(0,a.addEventDelegation)(d,"click",function(a){var b=a.delegateTarget;a={id:b.getAttribute("data-modal-id"),title:b.getAttribute("data-modal-title"),width:b.getAttribute("data-modal-width")?b.getAttribute("data-modal-width"):500};var d=f._config.cloneNode?
"wrapper_"+a.id+"_temp":"wrapper_"+a.id;document.getElementById(d)?f.open(d,b):f.generate(a,function(){return f.open(d,b)})});return f}c(b,d);m(b,[{key:"generate",value:function(b,d){var c=this,f=document.createElement("div"),l=document.getElementById(b.id);this._config.cloneNode?(l=l.cloneNode(!0),l.id=b.id+"_temp",f.id="wrapper_"+b.id+"_temp"):f.id="wrapper_"+b.id;f.classList.add("modal-overlay");f.classList.add("modal-close");l.classList.add("modal-content");this._config.fullScreen?f.classList.add("_fullWidth"):
l.style.width=b.width+"px";this._config.overlayColor&&(f.style.backgroundColor=this._config.overlayColor);this._config.border&&(l.style.border=this._config.border);l.innerHTML=(this._config.useHeader?'<section class="modal-header"><h1 class="modal-header__title">'+b.title+'</h1><button class="modal-header__closeBtn modal-close"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg></button></section>':
"")+'<div class="modal-content__inner">'+l.innerHTML+"</div>";f.appendChild(l);document.body.appendChild(f);f.querySelectorAll(".modal-close").forEach(function(b){return(0,a.addEvent)(b,"click",function(){return c.close(f.id)})});(0,a.addEvent)(f,"click",function(){return c.close(f.id)});(0,a.addEvent)(l,"click",function(a){return a.stopPropagation()});d();(0,a.addEvent)(window,"resize",function(){return c.checkScrolling(l)});this.trigger("afterGenerate",{container:l})}},{key:"open",value:function(a,
b){a=document.getElementById(a);a.classList.add("is-active");document.documentElement.style.overflowY="hidden";a=a.querySelector(".modal-content");this.trigger("afterOpen",{container:a,trigger:b});this.checkScrolling(a)}},{key:"close",value:function(a){a=document.getElementById(a);a.classList.remove("is-active");this._config.cloneNode&&a.parentNode.removeChild(a);document.documentElement.style.overflowY="";this.trigger("afterClose",{container:a.querySelector(".modal-content")})}},{key:"checkScrolling",
value:function(a){var b=window.innerHeight,d=Math.round(a.offsetHeight);!this._config.fullScreen&&b<=(0===d%2?d:d+1)?a.parentNode.classList.add("_scrollingLayer"):a.parentNode.classList.contains("_scrollingLayer")&&a.parentNode.classList.remove("_scrollingLayer")}}]);return b}(f["default"]);e["default"]=h;k.exports=e["default"]},function(k,e,h){(function(e,c){k.exports=c()})(this,function(){return function(e){function c(m){if(g[m])return g[m].exports;var f=g[m]={i:m,l:!1,exports:{}};e[m].call(f.exports,
f,f.exports,c);f.l=!0;return f.exports}var g={};c.m=e;c.c=g;c.d=function(e,f,a){c.o(e,f)||Object.defineProperty(e,f,{configurable:!1,enumerable:!0,get:a})};c.n=function(e){var f=e&&e.__esModule?function(){return e["default"]}:function(){return e};c.d(f,"a",f);return f};c.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)};c.p="";return c(c.s=0)}([function(e,c,h){c=(c=h(1))&&c.__esModule?c:{"default":c};c["default"].VERSION="2.1.0";e.exports=c["default"]},function(e,c,h){c.__esModule=
!0;var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};h=function(){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._eventHandler={};this.options={}}f.prototype.trigger=function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=this._eventHandler[a]||[];if(!(0<b.length))return!0;
b=b.concat();d.eventType=a;var f=!1,e=[d],c=0;d.stop=function(){f=!0};d.currentTarget=this;d=arguments.length;c=Array(2<d?d-2:0);for(var g=2;g<d;g++)c[g-2]=arguments[g];1<=c.length&&(e=e.concat(c));for(c=0;b[c];c++)b[c].apply(this,e);return!f};f.prototype.once=function(a,d){if("object"===("undefined"===typeof a?"undefined":g(a))&&"undefined"===typeof d){var b=void 0;for(b in a)this.once(b,a[b])}else if("string"===typeof a&&"function"===typeof d){var f=this;this.on(a,function p(){for(var b=arguments.length,
c=Array(b),e=0;e<b;e++)c[e]=arguments[e];d.apply(f,c);f.off(a,p)})}return this};f.prototype.hasOn=function(a){return!!this._eventHandler[a]};f.prototype.on=function(a,d){if("object"===("undefined"===typeof a?"undefined":g(a))&&"undefined"===typeof d)for(d in d=void 0,a)this.on(d,a[d]);else if("string"===typeof a&&"function"===typeof d){var b=this._eventHandler[a];"undefined"===typeof b&&(this._eventHandler[a]=[],b=this._eventHandler[a]);b.push(d)}return this};f.prototype.off=function(a,d){if("undefined"===
typeof a)return this._eventHandler={},this;if("undefined"===typeof d){if("string"===typeof a)this._eventHandler[a]=void 0;else for(d in d=void 0,a)this.off(d,a[d]);return this}if(a=this._eventHandler[a]){var b,f;for(b=0;void 0!==(f=a[b]);b++)if(f===d){a.splice(b,1);break}}return this};return f}();c["default"]=h;e.exports=c["default"]}])})},function(k,e,h){Object.defineProperty(e,"__esModule",{value:!0});e.addEventDelegation=void 0;var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};e.nodeToArray=function(a){var d=[];if(a)for(var b=0,f=a.length;b<f;b++)d.push(a[b]);return d};e.addEvent=function(a,d,b,c){if(m){var e=c||!1;"object"===("undefined"===typeof c?"undefined":g(c))&&(e=f?c:!1);a.addEventListener(d,b,e)}else a.attachEvent?a.attachEvent("on"+d,b):a["on"+d]=b};e.removeEvent=function(a,d,b){a.removeEventListener?a.removeEventListener(d,
b,!1):a.detachEvent?a.detachEvent("on"+d,b):a["on"+d]=null};e.hasClass=function(a,d){return a.classList?a.classList.contains(d):(new RegExp("(^| )"+d+"( |$)","gi")).test(a.className)};var c=(k=h(3))&&k.__esModule?k:{"default":k},n=("undefined"!==typeof window&&Math===Math?window:"undefined"!==typeof self&&(self.Math===Math?self:Function("return this")())).document,m=!!("addEventListener"in n),f=function(){var a=!1;try{m&&Object.defineProperty&&n.addEventListener("test",null,Object.defineProperty({},
"passive",{get:function(){a=!0}}))}catch(d){}return a}();e.addEventDelegation=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"click",b=arguments[2];return(0,c["default"])(a,d,function(a){b(a)},!1)}},function(k,e,h){function g(e,f,a,d,b){var g=c.apply(this,arguments);e.addEventListener(a,g,b);return{destroy:function(){e.removeEventListener(a,g,b)}}}function c(c,f,a,d){return function(a){a.delegateTarget=n(a.target,
f);a.delegateTarget&&d.call(c,a)}}var n=h(4);k.exports=function(c,f,a,d,b){if("function"===typeof c.addEventListener)return g.apply(null,arguments);if("function"===typeof a)return g.bind(null,document).apply(null,arguments);"string"===typeof c&&(c=document.querySelectorAll(c));return Array.prototype.map.call(c,function(c){return g(c,f,a,d,b)})}},function(k,e){"undefined"===typeof Element||Element.prototype.matches||(e=Element.prototype,e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||
e.oMatchesSelector||e.webkitMatchesSelector);k.exports=function(e,g){for(;e&&9!==e.nodeType;){if("function"===typeof e.matches&&e.matches(g))return e;e=e.parentNode}}},function(k,e){}])});
