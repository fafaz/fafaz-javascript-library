/*
 Copyright (c) 2017 NAVER Corp.
 @egjs/component project is licensed under the MIT license

 @egjs/component JavaScript library
 http://naver.github.io/egjs/component

 @version 2.1.0
*/
(function(l,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define([],c):"object"===typeof exports?exports.Modal=c():(l.fafaz=l.fafaz||{},l.fafaz.Modal=c())})("undefined"!==typeof self?self:this,function(){return function(l){function c(e){if(k[e])return k[e].exports;var a=k[e]={i:e,l:!1,exports:{}};l[e].call(a.exports,a,a.exports,c);a.l=!0;return a.exports}var k={};c.m=l;c.c=k;c.d=function(e,a,k){c.o(e,a)||Object.defineProperty(e,a,
{configurable:!1,enumerable:!0,get:k})};c.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};c.d(a,"a",a);return a};c.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)};c.p="";return c(c.s=0)}([function(l,c,k){function e(d,b){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?d:b}function a(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var n=Object.assign||function(d){for(var b=1;b<arguments.length;b++){var a=arguments[b],h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(d[h]=a[h])}return d},m=function(){function a(b,a){for(var h=0;h<a.length;h++){var f=a[h];f.enumerable=f.enumerable||!1;f.configurable=
!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,h,d){h&&a(b.prototype,h);d&&a(b,d);return b}}();l=(l=k(1))&&l.__esModule?l:{default:l};var g=k(2),h=g&&g.__esModule?g:{default:g};k(4);k=function(d){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));
f.positioning=function(){if(!f._config.fullScreen){var b=Math.round(f.target.content.offsetHeight);window.innerHeight<=(0===b%2?b:b+1)?f.target.wrapper.classList.add("fafazModal-wrapper--scrollingContent"):f.target.wrapper.classList.contains("fafazModal-wrapper--scrollingContent")&&f.target.wrapper.classList.remove("fafazModal-wrapper--scrollingContent")}};f._version="1.4";f._config=n({style:{},fullScreen:!1,cloneNode:!1},d);if(!a||"string"!==typeof a)throw"Trigger must be a css selector in string type";
f.target={};(0,h.default)(a,"click",function(b){b=b.delegateTarget;f.target.trigger=b;f.target.contentId=b.getAttribute("data-modal-id");f.target.modalId=f._config.cloneNode?"modal_"+f.target.contentId+"_clone":"modal_"+f.target.contentId;document.getElementById(f.target.modalId)?f.open():f.generate()});return f}a(b,d);m(b,[{key:"generate",value:function(){var b=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,d=document.createElement("div"),g=document.getElementById(this.target.contentId);
this._config.cloneNode?(g=g.cloneNode(!0),d.id="modal_"+this.target.contentId+"_clone"):d.id="modal_"+this.target.contentId;d.className="fafazModal-wrapper "+(this._config.fullScreen?"fafazModal-wrapper--fullScreen":"")+" fafazModal__closeTrigger";g.classList.add("fafazModal-content");this._config.style&&(d.style=this._config.style);d.appendChild(g);document.body.appendChild(d);(0,h.default)(".fafazModal__closeTrigger","click",function(){b.close()});g.addEventListener("click",function(b){b.stopPropagation()});
this.trigger("afterGenerate",{modal:d});a&&this.open()}},{key:"open",value:function(){var b=document.getElementById(this.target.modalId);b.classList.add("fafazModal-wrapper--isActive");this.target.content=document.getElementById(this.target.modalId).children[0];this.target.wrapper=b;document.documentElement.style.overflowY="hidden";window.addEventListener("resize",this.positioning);this.trigger("afterOpen",{modal:b,trigger:this.target.trigger})}},{key:"close",value:function(){var b=document.getElementById(this.target.modalId);
b.classList.remove("fafazModal-wrapper--isActive");window.removeEventListener("resize",this.positioning);this._config.cloneNode&&b.parentNode.removeChild(b);document.documentElement.style.overflowY=null;this.trigger("afterClose",{modal:b})}}]);return b}(l.default);c.default=k},function(l,c,k){(function(e,a){l.exports=a()})(this,function(){return function(e){function a(m){if(c[m])return c[m].exports;var g=c[m]={i:m,l:!1,exports:{}};e[m].call(g.exports,g,g.exports,a);g.l=!0;return g.exports}var c={};
a.m=e;a.c=c;a.d=function(c,g,h){a.o(c,g)||Object.defineProperty(c,g,{configurable:!1,enumerable:!0,get:h})};a.n=function(c){var g=c&&c.__esModule?function(){return c["default"]}:function(){return c};a.d(g,"a",g);return g};a.o=function(a,g){return Object.prototype.hasOwnProperty.call(a,g)};a.p="";return a(a.s=0)}([function(c,a,k){a=(a=k(1))&&a.__esModule?a:{"default":a};a["default"].VERSION="2.1.0";c.exports=a["default"]},function(c,a,k){a.__esModule=!0;var e="function"===typeof Symbol&&"symbol"===
typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};k=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._eventHandler={};this.options={}}a.prototype.trigger=function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=this._eventHandler[a]||[];if(!(0<b.length))return!0;b=b.concat();d.eventType=a;var h=!1,c=[d],
f=0;d.stop=function(){h=!0};d.currentTarget=this;d=arguments.length;f=Array(2<d?d-2:0);for(var e=2;e<d;e++)f[e-2]=arguments[e];1<=f.length&&(c=c.concat(f));for(f=0;b[f];f++)b[f].apply(this,c);return!h};a.prototype.once=function(a,d){if("object"===("undefined"===typeof a?"undefined":e(a))&&"undefined"===typeof d){var b=void 0;for(b in a)this.once(b,a[b])}else if("string"===typeof a&&"function"===typeof d){var c=this;this.on(a,function f(){for(var b=arguments.length,h=Array(b),e=0;e<b;e++)h[e]=arguments[e];
d.apply(c,h);c.off(a,f)})}return this};a.prototype.hasOn=function(a){return!!this._eventHandler[a]};a.prototype.on=function(a,d){if("object"===("undefined"===typeof a?"undefined":e(a))&&"undefined"===typeof d)for(d in d=void 0,a)this.on(d,a[d]);else if("string"===typeof a&&"function"===typeof d){var b=this._eventHandler[a];"undefined"===typeof b&&(this._eventHandler[a]=[],b=this._eventHandler[a]);b.push(d)}return this};a.prototype.off=function(a,d){if("undefined"===typeof a)return this._eventHandler=
{},this;if("undefined"===typeof d){if("string"===typeof a)this._eventHandler[a]=void 0;else for(d in d=void 0,a)this.off(d,a[d]);return this}if(a=this._eventHandler[a]){var b,c;for(b=0;void 0!==(c=a[b]);b++)if(c===d){a.splice(b,1);break}}return this};return a}();a["default"]=k;c.exports=a["default"]}])})},function(l,c,k){function e(c,e,h,d,b){var g=a.apply(this,arguments);c.addEventListener(h,g,b);return{destroy:function(){c.removeEventListener(h,g,b)}}}function a(a,c,e,d){return function(b){b.delegateTarget=
n(b.target,c);b.delegateTarget&&d.call(a,b)}}var n=k(3);l.exports=function(a,c,k,d,b){if("function"===typeof a.addEventListener)return e.apply(null,arguments);if("function"===typeof k)return e.bind(null,document).apply(null,arguments);"string"===typeof a&&(a=document.querySelectorAll(a));return Array.prototype.map.call(a,function(a){return e(a,c,k,d,b)})}},function(l,c){"undefined"===typeof Element||Element.prototype.matches||(c=Element.prototype,c.matches=c.matchesSelector||c.mozMatchesSelector||
c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector);l.exports=function(c,e){for(;c&&9!==c.nodeType;){if("function"===typeof c.matches&&c.matches(e))return c;c=c.parentNode}}},function(l,c){}])});
